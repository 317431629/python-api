language: python

# We need to test on multiple distros, since python 2.6 is not supported in xenial
# and 3.7 is not supported in trusty.  For now just use trusty to test 2.6, and use
# the more modern xenial for 2.7 and 3.7.
matrix:
  include:
    # use trusty dist, since xenial (default) does not support python 2.6
    - dist: trusty
      python: "2.6"
    # test python 2.7 and 3.7 on xenial.
    - dist: xenial
      python: "2.7"
    - dist: xenial
      python: "3.7"

# command to install dependencies
install:
  - pip install -r tests/ci_requirements.txt
before_script:
  - cp ./tests/example_config ./tests/config
# command to run tests
script: coverage run -m nose
after_success: coveralls
notifications:
  email:
    - api@shotgunsoftware.com
  slack:
    rooms:
      secure: NgcVxptQji2OL7EKx5owh21tOl4rRg51ydYhLPHpBIpBVzlqPxi1jbMHpcbl8mG+GuhU6y1D6kVQgQfuAfIWx5YOc4FodhOFZgeS+eol5RTmEepl1OT6XmAVgEclSZUYQmK25OkcxnFnOV/31RuDPXWcgCvSBZqTy6lAbOZ5VwQ=
